<section class="gh-canvas">
    <GhCanvasHeader class="gh-canvas-header post-header">
        <h2 class="gh-canvas-title" data-test-screen-title>Subscriptions</h2>
        <section class="view-actions">
            <div class="gh-contentfilter">
                {{#power-select
                        selected=selectedTag
                        options=availableTags
                        searchField="name"
                        onchange=(action "changeTag")
                        tagName="div"
                        classNames=tagClassNames
                        triggerClass="gh-contentfilter-menu-trigger"
                        dropdownClass="gh-contentfilter-menu-dropdown"
                        searchPlaceholder="Search tags"
                        matchTriggerWidth=false
                        optionsComponent="power-select-vertical-collection-options"
                        data-test-tag-select=true
                as |tag|
                }}
                    {{tag.name}}
                {{/power-select}}

                {{#power-select
                        selected=selectedOrder
                        options=availableOrders
                        searchEnabled=false
                        onchange=(action "changeOrder")
                        tagName="div"
                        classNames="gh-contentfilter-menu gh-contentfilter-sort"
                        triggerClass="gh-contentfilter-menu-trigger"
                        dropdownClass="gh-contentfilter-menu-dropdown"
                        matchTriggerWidth=false
                        data-test-order-select=true
                as |order|
                }}
                    {{order.name}}
                {{/power-select}}
            </div>
        </section>
    </GhCanvasHeader>

    <section class="content-list">
        <ol class="posts-list gh-list {{unless subscriptionsInfinityModel "no-posts"}}">
            {{#if subscriptionsInfinityModel}}
                <li class="gh-list-row header">
                    <div class="gh-list-header">Subscription date</div>
                    <div class="gh-list-header">Last seen date</div>
                    <div class="gh-list-header">IP</div>
                    <div class="gh-list-header">Tag</div>
                    <div class="gh-list-header">URL</div>
                    <div class="gh-list-header no-padding">{{!--Chevron column: no header--}}</div>
                </li>
            {{/if}}

            {{#each subscriptionsInfinityModel as |subscription|}}
                {{gh-subscriptions-list-item
                        subscription=subscription
                        data-test-subscription-id=subscription.id}}
            {{else}}
                <li class="no-posts-box">
                    <div class="no-posts">
                        {{#if showingAll}}
                            {{svg-jar "posts-placeholder" class="gh-posts-placeholder"}}
                            <h3>You have no subscriptions yet!</h3>
                        {{else}}
                            <h3>No subscriptions match the current filter</h3>
                            {{#link-to "subscriptions" (query-params type=null author=null tag=null) class="gh-btn gh-btn-lg"}}
                                <span>Show all subscriptions</span>
                            {{/link-to}}
                        {{/if}}
                    </div>
                </li>
            {{/each}}
        </ol>

        {{gh-infinity-loader
            infinityModel=subscriptionsInfinityModel
            scrollable=".gh-main"
            triggerOffset=1000}}
    </section>

    {{outlet}}
</section>
